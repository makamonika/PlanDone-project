<div mat-dialog-title class="heading">
    <div class="dialog-header"> 
        <i class="bi bi-card-text"></i>
        <span> {{newTask ? 'Nowe zadanie' : taskData.name}}: </span>
    </div>
</div>
<mat-dialog-content [formGroup]="taskForm">
    <mat-form-field>
        <input matInput
        placeholder="Nazwa: "
               formControlName ="name" [readonly]="!editMode">
    </mat-form-field>
    <div class="input-label">Typ:</div>
    <mat-form-field>
        <mat-select
                formControlName ="organizationType" [disabled] ="!editMode">
          <mat-option *ngFor="let type of organizationTypes" [value]="type.name">
            {{type.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    <mat-form-field class="task-desc-field">
        <textarea matInput style="margin-top: 5px;"
        placeholder="Opis: "
               formControlName ="description" [readonly]="!editMode"> </textarea>
    </mat-form-field>
    <div class="date-pickers-container">
        <mat-form-field class="date-picker" appearance="outline">
            <mat-label>Data rozpoczęcia:</mat-label>
            <input matInput [matDatepicker]="pickerStart" (dateChange)="dateStartSelected()"
                class="date-input" formControlName="dateStart" [disabled]="!editMode">
            <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
            <mat-datepicker #pickerStart></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="date-picker" appearance="outline">
            <mat-label>Data zakończenia:</mat-label>
            <input matInput [matDatepicker]="pickerEnd" (dateChange)="dateEndSelected()"
                class="date-input" formControlName="dateEnd" [disabled]="!editMode">
            <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
            <mat-datepicker #pickerEnd></mat-datepicker>
        </mat-form-field>
    </div>
   
    <div class="input-label">Realizacja:</div>
    <div class="realization-input">
        <div *ngIf="editMode" (click)="sub()"><i class="fa fa-minus icon-border"></i></div>
        <div class="input-part">
            <div>{{taskData.realization}}%</div> 
        </div>
        <div *ngIf="editMode" (click)="add()"><i class="fa fa-plus icon-border"></i></div>
    </div>
    
</mat-dialog-content>

<mat-dialog-actions class ="dialog-btns">
    <button *ngIf="!editMode" type="button" class="btn btn-dark first" (click)="editMode = true">Edytuj</button>
    <button *ngIf="editMode" type="button" class="btn btn-dark first" (click)="save()">Zapisz</button>
    <button type="button" class="btn btn-dark" (click)="close()">Zamknij</button>
</mat-dialog-actions>

